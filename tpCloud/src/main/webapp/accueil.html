<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Accueil</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

    <script src="https://unpkg.com/mithril/mithril.js"></script>
    

<!-- 	<a href="#" onclick="signOut();">Sign out</a>

	<script>
	  function signOut() {
	    var auth2 = gapi.auth2.getAuthInstance();
	    auth2.signOut().then(function () {
	      console.log('User signed out.');
	    });
	  }
	</script>  -->




	<script src="https://unpkg.com/mithril/mithril.js"></script>

	<script>

    var root = document.body

    // appel REST pour manipuler les entite

		var Petition = {
		    list: [],
		    loadList: function() {
		        return m.request({
		            method: "GET",
		          //   url: "https://projetcloudm1.appspot.com/_ah/api/myApi/v1/listTopPetition",
		            url: "https://rem-rest-api.herokuapp.com/api/users",
		            withCredentials: true,
		        })
		        .then(function(result) {
		            Petition.list = result.data
		        })
		    },
		}
    
    // affichage de la liste des score
	 var PetitionView = {
	 		oninit: Petition.loadList,
	 	    view: function() {
	 	        return m(".user-list", Petition.list.map(function(pet) {
	 	            return m(".user-list-item", pet.firstName + " " + pet.lastName)
	 	        }))
	 	    },
	 }
    

	 var Affiche ={
    		 view: function() {
 	 	    	return m("main", [
 	 	            m("h1",  "Tiny Pet"),
 	 	         	m("h2",  "Site de petition en ligne"),
 	 	         	m("p",  "Tiny Pet est un site en ligne ou vous pouvez signer des pétitions, ainsi qu'en créer."),
 	 	         	m("p",  "Afin de créer des pétitions, vous devrez vous connecter sur le site."),
 	 	            m("li",[m("a", {href:"index.html"}, "Liste des fonctionnalités disponibles"),]),
 	 	            m("li",[m("a", {href:"creerPetition.html"}, "Créer une pétition"),]),
 	 	            m("button",[m("a", {href:"connexion.html"}, "Se connecter"),])
 	 	          
 			        //m("h1", {class: "title"}, "Trending petitions"),
 	 	            //m("div", {id: "box"}, m(PetitionView)),
 	 	        ])
 	 	    }
    }

 m.mount(root, Affiche)	



	</script>
</body>
</html>